<!doctype html>
<html>
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" />
    <meta content="This post is about GoCD team’s journey in building elastic agents and its benefits." name="description" />
    <meta content="gocd, elastic agents, gocd elastic agent, continuous delivery, dogfooding, elastic agent, ECS, AWS ECS, EC2, Docker, Dockerswarm, mesosphere, azure" name="keywords" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@goforcd" />
    <meta name="twitter:title" content="GoCD Elastic Agents | GoCD Blog" />
    <meta name="twitter:description" content="This post is about GoCD team’s journey in building elastic agents and its benefits." />
    <meta name="twitter:image" content="https://preview.gocd.org/assets/images/blog/elastic-agents/elastic-agent-hero-995aca63.jpg" />
    <link rel="canonical" href="https://preview.gocd.org/2017/08/08/gocd-elastic-agents-benefits" />

    <title>GoCD Elastic Agents | GoCD Blog</title>
    <link href="../../../../assets/images/favicon.ico" rel="shortcut icon" />
    <link href="../../../../assets/stylesheets/site-535b5d75.css" rel="stylesheet" />
    <script src="../../../../assets/javascripts/all-e46b35fc.js"></script>
    
    <link rel="alternate" type="application/atom+xml" title="GoCD blog feed" href="../../../../feed.xml" />
    <script>
      $(document).ready(function(){
    $('.chocolat-parent').Chocolat();
});
    </script>

  </head>

  <body class="x2017 x2017_08 x2017_08_08 x2017_08_08_gocd-elastic-agents-benefits x2017_08_08_gocd-elastic-agents-benefits_index">
    <header class="top">
  <div class="container">
    <a href="../../../../" class="logo" analytics-label="logo"><img src="../../../../assets/images/go_logo-5b5ca9e1.svg" title="GoCD Logo" alt="GoCD Logo" /></a>
    <nav class="mainnav">
      <ul class="level0">
        <li class="dropdown">
          <a href="../../../../why-gocd/" class="link_whygocd" analytics-label="link_whygocd">Why GoCD?</a>
        </li>
        <li class="dropdown">
          <a href="../../../../contribute/" class="toplink_contribute" analytics-label="link_community">Community</a>
          <ul  class="level1">
            <li><a href="../../../../contribute/" class="link_contribute" analytics-label="link_community&gt;link_contribute">Contribute</a></li>
            <li><a href="../../../../events/" class="link_events" analytics-label="link_community&gt;link_events">Events</a></li>
            <li><a href="../../../../plugins/" class="link_plugins" analytics-label="link_community&gt;link_plugins">Plugins</a></li>
          </ul>
        </li>
        <li><a href="../../../../blog/" class="link_blog" analytics-label="Blog">Blog</a></li>
        <li class="dropdown">
          <a href="../../../../help/" class="toplink_help" analytics-label="link_help">Help</a>
          <ul  class="level1">
            <li><a href="../../../../help/" class="getting-started" analytics-label="link_help&gt;link_getting_started">Getting started</a></li>
            <li><a href="https://docs.gocd.org/current/" target="_blank" analytics-label="link_help&gt;link_documentation">Documentation</a></li>
            <li><a href="../../../../resources.html" class="link_resources" analytics-label="link_help&gt;link_resources">Resources</a></li>
          </ul>
        </li>
        <li><a href="../../../../download/" class="link_download" analytics-label="link_help&gt;link_download">Download</a></li>
        <li><a href="https://www.thoughtworks.com/go" class="link_support" target="_blank" analytics-label="link_support">Get Support</a></li>
      </ul>
    </nav>
    <button class="navbtn menu collapse">
    <span></span>
    </button>
  </div>
</header>
<span id="top"></span>
<a href="http://github.com/gocd" class="github-fork-ribbon" target="_blank" analytics-label="link_header_fork&gt;link_download" title="Fork me on GitHub">Fork me on GitHub</a>

    <div class="container blog-post">


  



  <div class="row">
    <div class="col-md-9">

    <div class="post-banner">
      <figure>
  <img src="../../../../assets/images/blog/elastic-agents/elastic-agent-hero-995aca63.jpg" alt="GoCD Elastic Agents" />
</figure>

    </div>


  <header class="blog-post-header">
    <h1>The benefits of <span class="go">Go</span>CD elastic agents</h1>
    <h4>Ketan Padegaonkar</h4>
    <p class='tags'>
     </p>
  </header>

      <main id="main" role="main" class="blog-post-main-container">
      
<p>This post is about the GoCD team’s journey in building elastic agents, our experience while using it in anger and the benefits we saw.</p>

<h2 id="why-elastic-agents">Why elastic agents</h2>

<p>GoCD operates on a server-agent model where a server communicates with many agents. The server is responsible for orchestrating various stages, jobs and tasks on the agents. The agents are responsible for their execution in the deployment pipeline.</p>

<p>Oftentimes it makes sense to <a href="https://www.gocd.org/2017/03/01/importance-and-principles-of-cd-pipelines/#principle-parallelize">parallelize</a>, to speed up build and test execution, get feedback quickly and deploy rapidly.</p>

<p><img src="../../../../assets/images/blog/elastic-agents/parallelize-9e407871.jpeg" alt="Parallelize Workflow" title="Parallelize Workflow" /></p>

<p>But for some teams, parallelization requires an intense use of hardware resources for brief periods of time. The situation becomes particularly frustrating when different branches of code or environments require different kinds of hardware and software to run on.</p>

<p>In many cases, this leads to:</p>

<ul>
  <li>excessive provisioning of build machines, leaving a lot of hardware under-utilized when builds and tests are not running.</li>
  <li>re-provisioning some of the hardware based on need, leading to a significant lead time depending on its availability</li>
  <li>slower build time when sufficient hardware is not available.</li>
</ul>

<p>We wanted to help reduce infrastructure costs and improve hardware utilization. We believed that allowing organizations to bring up GoCD agents on-demand will achieve that goal. So we designed elastic agents to allow teams to leverage a combination of their own hardware and the cloud to run their builds.</p>

<h2 id="benefits-we-observed">Benefits we observed</h2>

<p>We started using the elastic agents for <a href="https://github.com/gocd-contrib/docker-elastic-agents">Docker plugin</a> as it was the first one we built. We observed these benefits from elastic agents since we started to use them.</p>

<h3 id="save-time-reduce-effort">1. Save time, reduce effort</h3>

<blockquote>
  <p>It has saved us hours of wasted developer productivity per week.</p>
</blockquote>

<p>Before elastic agents, if we wanted to test something new that needed different hardware or software, we needed to provision build machines, and have the relevant software installed on these agents. Then if we chose to not keep the change, we also had to decommission the machines. It was time consuming  to do all of that, and took the focus away from development.</p>

<p>Using elastic agents, we can apply the idea behind <a href="https://martinfowler.com/bliki/ImmutableServer.html">ImmutableServer</a> to our build machines. We now <a href="https://hub.docker.com/r/gocdcontrib/gocd-dev-build/builds/">build an operating system image</a> with all the required software (with the versions we need). This allowed us to operate quickly, and experiment without the worry of managing hardware.</p>

<h3 id="less-pain-and-overhead">2. Less pain and overhead</h3>

<blockquote>
  <p>Every team member feels that our build and deployment process is much easier and less painful.</p>
</blockquote>

<p>We can now quickly bring up Docker containers (with all the required software) and kick off the builds within a certain environment without affecting other environments. We completely avoid all the pain we experienced before. Moving to a combination of on-premises hardware and Amazon ECS has helped the team move a lot faster. We are not dependent on hardware being procured and provisioned with the right set of tools/software version on it, before we start using it.</p>

<h3 id="improve-utilization-of-resources">3. Improve utilization of resources</h3>

<blockquote>
  <p>We never had this capability to optimize our resources as we do now.</p>
</blockquote>

<p>The real beauty of elastic agents was that it improved our infrastructure utilization. We can now use the same hardware to run and test GoCD on several operating systems improving the overall utilization of our hardware. If someone needs more machines to run builds, we can now terminate existing machines and bring up new ones. And if we still need more, we can overflow our builds on AWS with very little reconfiguring.</p>

<h2 id="how-can-your-team-benefit-from-elastic-agents">How can your team benefit from elastic agents?</h2>

<p>Several open-source elastic agent plugins are <a href="https://www.gocd.org/plugins/#elastic-agents-plugins">currently available</a>. We already have an Amazon Elastic Container Service(ECS) plugin which a lot of our users are trying out. A guiding principle for GoCD is to keep it as agnostic as possible. This allows the user to choose what technology they want to use and provision agents there. Therefore, we put a lot of time and effort into <a href="https://plugin-api.gocd.org/current/elastic-agents/">our plugin API</a>, so you can just plug in any cloud provider you have or build your own plugin.</p>

<p>Depending on user demand and the popularity of the cloud providers among our users we will potentially build support for agents running on Amazon EC2 instances, Azure and other cloud providers.</p>

<div class="row">
  <div class="downloadbanner">
  <div class="container">
    <div class="banner-with-cta">
      <p>GoCD offers several community and commercial plugins as well as a plugin API for Elastic Agents.</p>
      <a href="../../../../elastic-agents.html">Elastic Agent Offerings</a>
    </div>
  </div>
</div>

</div>

      </main>
    </div>
    <div class="col-md-3">
      <aside class="post-sidebar">
        <section  class="recent-ariticles">
          <section class='post'>
            <div class='subscribe-to-blog blogpost'>
   <h3 class='subscribe-title'> Subscribe to The Pipeline</h3>
   <p style="font-size:12px; font-weight:300">Continuous Delivery news in your inbox</p>
    <div id="subscribe-info">
      Send us a mail to <a href="mailto:support@thoughtworks.com?subject=Sign%20me%20up%20for%20GoCD%20blog%20notifications">support@thoughtworks.com</a> and we will sign you up for a notification on new blog posts.
    </div>
    <script type="text/javascript">
      function initMarketoForm() {
        jQuery("#subscribe-info").html("<form id='mktoForm_5414'></form>");
        MktoForms2.loadForm("//app-e.marketo.com", "199-QDE-291", 5414);
      }
    </script>
    <script async="true" src="//app-e.marketo.com/js/forms2/js/forms2.min.js" onload="initMarketoForm()"></script>
</div>

          </section>
          <h2 class="section-title">Recent Articles</h2>
          <ol>
            <li>
              <span class="post-date">Oct 24</span>
              <span class="post-author">Sanchit Bahal</span>
              <a href="../../../10/24/delta-airlines-mobile-app-continuous-delivery-gocd/">Continuous Delivery for Mobile Development - Our learnings at Delta Air Lines</a>
            </li>
            <li>
              <span class="post-date">Oct 17</span>
              <span class="post-author">Louda Peña</span>
              <a href="../../../10/17/difference-between-continuous-delivery-continuous-deployment-infographic/">Infographic - What's the difference between Continuous Delivery and Continuous Deployment?</a>
            </li>
            <li>
              <span class="post-date">Oct 10</span>
              <span class="post-author">Vishal Naik</span>
              <a href="../../../10/10/architecting-continuous-delivery/">Architecting for Continuous Delivery - Themes in CD Enablement</a>
            </li>
            <li>
              <span class="post-date">Oct  3</span>
              <span class="post-author">Ken Mugrage</span>
              <a href="../../../10/03/introduction-continuous-delivery-deployment-tools/">Part 5 - CD101: Common Tools for Continuous Delivery</a>
            </li>
            <li>
              <span class="post-date">Sep 26</span>
              <span class="post-author">Aravind SV</span>
              <a href="../../../09/26/are-you-ready-for-continuous-delivery-infographic/">Infographic - Are you ready for Continuous Delivery</a>
            </li>
          </ol>
        </section>
        <section>
          <h2 class="section-title">By Year</h2>
          <ol>
            <li><a href="../../../">2017 (35)</a></li>
            <li><a href="../../../../2016/">2016 (8)</a></li>
            <li><a href="../../../../2015/">2015 (21)</a></li>
            <li><a href="../../../../2014/">2014 (26)</a></li>
          </ol>
        </section>

      </aside>
    </div>
  </div>

  <div class="row">
    <div class="col-md-9">
      <div id="disqus_thread"></div>
      <script>
        var disqus_config = function () {
          /* Careful: Changing the value of page.url and page.identifier might mean you lose comments. */
          this.page.url = "https://www.go.cd/2017/08/08/gocd-elastic-agents-benefits.html";
          this.page.identifier = this.page.url;
          this.shortname = 'gocdblog';
        };
        (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//gocdblog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
  </div>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-571784c91d5449dd"></script>

    <footer>
  <div class="join-community">
    <div class="container">
      <h3>Join our community</h3>
      <ul>
        <li>
          <a href="https://groups.google.com/forum/#!forum/go-cd" target="_blank" analytics-label="google-group">
            <i class="icon fa fa-users fa-4x join-us" aria-hidden="true"></i>
            Join our discussion forum
          </a>
        </li>
        <li>
          <a href="https://gitter.im/gocd/gocd" target="_blank" analytics-label="gitter">
            <i class="icon fa fa-comments fa-4x develop-with-us" aria-hidden="true"></i>
           Chat with us
          </a>
        </li>
        <li>
          <a href="https://github.com/gocd/gocd" target="_blank" analytics-label="github">
            <i class="icon fa fa-github fa-4x watch-us" aria-hidden="true"></i>
            watch us
          </a>
        </li>
        <li>
          <a href="https://twitter.com/goforcd" target="_blank" analytics-label="twitter">
            <i class="icon fa fa-twitter fa-4x follow-us" aria-hidden="true"></i>
            follow us
          </a>
        </li>
        
        <li>
        <a href="../../../../subscribe/"><i class= 'icon fa fa-envelope fa-4x subscribe' aria-hidden='true'></i>subscribe</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="page-footer">
    <div class="container">
      <div class="foo-content">
        <p>
          GoCD is an open-source project, sponsored by <a target="_blank" href="http://www.thoughtworks.com" analytics-label="link_footer_thoughtworks">ThoughtWorks Inc.</a>
          under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" title="Apache 2.0 License">Apache License, Version 2.0</a>
        </p>
        <h5 class="help-us-improve">Make this place better</h5>
        <a href="http://github.com/gocd" class="social-buttons" analytics-label="link_footer_fork"><i class="fa fa-code-fork" aria-hidden="true" target="_blank"></i> fork</a>
        <a href="https://github.com/gocd/www.go.cd/issues"  class="social-buttons" analytics-label="link_footer_github_issues"> <i class="fa fa-github" aria-hidden="true"></i> suggest</a>

        <p><a href="https://brandfolder.com/twproducts" target="_blank">Logos and brand guidelines</a></p>
      </div>
    </div>
  </div>
</footer>

    <div class='imagemodal'>
      <div class='imagemodalcontent'>
      </div>
      <div class='close'>&#10006;
      </div>
    </div>

  </body>
  <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5T5PTB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>
// <![CDATA[
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5T5PTB');
// ]]>
</script>
<!-- End Google Tag Manager -->

<!-- Marketo async-->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('199-QDE-291');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End Marketo async-->

<!-- Twitter universal website tag code -->
<script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
// Insert Twitter Pixel ID and Standard Event data below
twq('init','nw15k');
twq('track','PageView');
</script>
<!-- End Twitter universal website tag code -->

</html>
